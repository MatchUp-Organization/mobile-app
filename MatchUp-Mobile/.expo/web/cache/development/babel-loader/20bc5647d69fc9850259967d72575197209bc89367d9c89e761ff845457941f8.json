{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Logo from \"../../../assets/images/NewLogo.png\";\nimport CustomInput from \"../../components/customInput\";\nimport CustomButton from \"../../components/CustomButton\";\nimport SocialSignInButtons from \"../../components/SocialSignInButtons\";\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { useForm, Controller } from 'react-hook-form';\nimport axios from \"axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SingIn = function SingIn(data) {\n  var _useWindowDimensions = useWindowDimensions(),\n    height = _useWindowDimensions.height;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var navigation = useNavigation();\n  var _useForm = useForm(),\n    control = _useForm.control,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.formState.errors;\n  console.log(errors);\n  var createUser = function () {\n    var _ref = _asyncToGenerator(function* (username, password) {\n      try {\n        var response = yield axios.post(\"http://localhost:3001/users\", {\n          username: username,\n          password: password\n        });\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    });\n    return function createUser(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var onSignInPressed = function onSignInPressed(data) {\n    setUsername(data.username);\n    setPassword(data.password);\n    createUser(data.username, data.password);\n    alert(\"Log In Successful\");\n    console.log(\"username \" + username);\n    console.log(\"password \" + password);\n    navigation.navigate('Home', {\n      username: username\n    });\n  };\n  var onForgotPasswordPressed = function onForgotPasswordPressed() {\n    navigation.navigate('ForgotPassword');\n  };\n  var onSignUpAccountPressed = function onSignUpAccountPressed() {\n    navigation.navigate('SignUp');\n  };\n  return _jsxs(View, {\n    style: styles.root,\n    children: [_jsx(Image, {\n      source: Logo,\n      style: [styles.logo, {\n        height: height * 0.3\n      }],\n      resizeMode: \"contain\"\n    }), _jsx(Controller, {\n      name: \"username\",\n      control: control,\n      defaultValue: \"\",\n      render: function render(_ref2) {\n        var _ref2$field = _ref2.field,\n          onChange = _ref2$field.onChange,\n          onBlur = _ref2$field.onBlur,\n          value = _ref2$field.value;\n        return _jsx(CustomInput, {\n          name: \"username\",\n          placeholder: \"Username\",\n          control: control,\n          rules: {\n            required: 'Username is required'\n          },\n          onChangeText: onChange,\n          onBlur: onBlur,\n          value: value\n        });\n      }\n    }), _jsx(CustomInput, {\n      name: \"password\",\n      placeholder: \"Password\",\n      control: control,\n      rules: {\n        required: 'Password is required',\n        minLength: {\n          value: 3,\n          message: 'Password should be minimum 3 characters long'\n        }\n      },\n      secureTextEntry: true\n    }), _jsx(CustomButton, {\n      text: \"Sign In\",\n      onPress: handleSubmit(onSignInPressed)\n    }), _jsx(CustomButton, {\n      text: \"Forgot Password\",\n      onPress: onForgotPasswordPressed,\n      type: \"TERTIARY\"\n    }), _jsx(SocialSignInButtons, {}), _jsx(CustomButton, {\n      text: \"Don't have an account? Create One\",\n      onPress: onSignUpAccountPressed,\n      type: \"TERTIARY\"\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  root: {\n    padding: 25,\n    alignItems: 'center'\n  },\n  logo: {\n    borderRadius: 100,\n    width: '50%',\n    maxWidth: 300,\n    maxHeight: 200\n  }\n});\nexport default SingIn;","map":{"version":3,"names":["React","useState","useEffect","Text","View","Image","StyleSheet","useWindowDimensions","TextInput","Button","Logo","CustomInput","CustomButton","SocialSignInButtons","useNavigation","useRoute","useForm","Controller","axios","jsx","_jsx","jsxs","_jsxs","SingIn","data","_useWindowDimensions","height","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","navigation","_useForm","control","handleSubmit","errors","formState","console","log","createUser","_ref","_asyncToGenerator","response","post","error","_x","_x2","apply","arguments","onSignInPressed","alert","navigate","onForgotPasswordPressed","onSignUpAccountPressed","style","styles","root","children","source","logo","resizeMode","name","defaultValue","render","_ref2","_ref2$field","field","onChange","onBlur","value","placeholder","rules","required","onChangeText","minLength","message","secureTextEntry","text","onPress","type","create","padding","alignItems","borderRadius","width","maxWidth","maxHeight"],"sources":["/home/alexx/MatchUp-Mobile/src/screens/SingIn/SingIn.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Text, View, Image, StyleSheet, useWindowDimensions, TextInput, Button} from 'react-native';\nimport Logo from '../../../assets/images/NewLogo.png';\nimport CustomInput from '../../components/customInput';\nimport CustomButton from '../../components/CustomButton';\nimport SocialSignInButtons from '../../components/SocialSignInButtons';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport {useForm, Controller} from 'react-hook-form';\nimport axios from \"axios\";\n\nconst SingIn = (data) => {\n    const {height} = useWindowDimensions();\n    \n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    \n    const navigation = useNavigation();\n\n    const {\n      control, \n      handleSubmit, formState:{errors},\n    } = useForm();\n\n    console.log(errors);\n\n    const createUser = async (username, password) => {\n       try {\n        const response = await axios.post(\"http://localhost:3001/users\", {\n          //const response = await axios.post(\"http://172.20.10.2:3001/users\", {\n          username,\n          password,\n         });\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        // handle error\n      }\n    };\n    \n\n    const onSignInPressed = (data) => {\n\n    //const onSignInPressed = async (data) => {\n      setUsername(data.username);\n      setPassword(data.password);\n      createUser(data.username, data.password);\n\n        alert(\"Log In Successful\");\n        console.log(\"username \"+ username);\n        console.log(\"password \" + password);\n        navigation.navigate('Home', {username});\n      }\n\n    const onForgotPasswordPressed = () => {\n      navigation.navigate('ForgotPassword');\n    }\n\n    const onSignUpAccountPressed = () => {\n      navigation.navigate('SignUp');\n    }\n\n    return (\n      <View style={styles.root}>\n        <Image\n          source={Logo}\n          style={[styles.logo, { height: height * 0.3 }]} resizeMode=\"contain\" \n          />\n        <Controller\n          name=\"username\"\n          control={control}\n          defaultValue=\"\"\n          render={({ field: { onChange, onBlur, value } }) => (\n          <CustomInput\n          name=\"username\"\n          placeholder= \"Username\" \n          control={control} \n          rules={{required: 'Username is required'}}\n          onChangeText={onChange}\n          onBlur={onBlur}\n          value={value}\n          />\n          )}\n        />\n        <CustomInput \n        name=\"password\"\n        placeholder= \"Password\" \n        control={control} \n        rules={{required: 'Password is required', \n        minLength:{value: 3, \n          message:'Password should be minimum 3 characters long',\n        },\n      }}\n        secureTextEntry\n        />\n        <CustomButton text= \"Sign In\" \n        onPress={handleSubmit(onSignInPressed)}\n        />\n        <CustomButton \n        text= \"Forgot Password\" \n        onPress={onForgotPasswordPressed}\n        type= \"TERTIARY\"\n        />\n\n        <SocialSignInButtons/>\n        <CustomButton \n        text= \"Don't have an account? Create One\" \n        onPress={onSignUpAccountPressed}\n        type= \"TERTIARY\"\n        />  \n      </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    root: {\n        padding: 25,\n        alignItems: 'center',\n    },\n    logo: {\n        borderRadius: 100,\n        width: '50%',\n        maxWidth: 300,\n        maxHeight: 200,\n      },\n});\n\nexport default SingIn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}