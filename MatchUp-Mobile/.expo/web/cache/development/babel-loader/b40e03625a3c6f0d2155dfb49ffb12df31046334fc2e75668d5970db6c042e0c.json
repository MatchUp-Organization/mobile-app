{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Logo from \"../../../assets/images/NewLogo.png\";\nimport CustomInput from \"../../components/customInput\";\nimport CustomButton from \"../../components/CustomButton\";\nimport SocialSignInButtons from \"../../components/SocialSignInButtons\";\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { useForm, Controller } from 'react-hook-form';\nimport axios from \"axios\";\nimport * as WebBrowser from \"expo-web-browser\";\nimport * as Google from \"expo-auth-session/providers/google\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Color, FontFamily, Border, FontSize } from \"../../../GlobalStyles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SingIn = function SingIn(data) {\n  var _useWindowDimensions = useWindowDimensions(),\n    height = _useWindowDimensions.height;\n  WebBrowser.maybeCompleteAuthSession();\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var navigation = useNavigation();\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    id = _useState6[0],\n    setId = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    token = _useState8[0],\n    setToken = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    userInfo = _useState10[0],\n    setUserInfo = _useState10[1];\n  var calendar = google.calendar('v3');\n  var _Google$useAuthReques = Google.useAuthRequest({\n      webClientId: \"871816637044-ejvmsf74rnf29sludjqr7t60tne94sam.apps.googleusercontent.com\",\n      iosClientId: \"871816637044-esekd2fr8ci43gp9l7aou6nlhdi6nnln.apps.googleusercontent.com\",\n      androidClientId: \"871816637044-taf445l6c45fgje4odbc1hhvfisnmm5h.apps.googleusercontent.com\",\n      scopes: [\"profile\", \"email\"]\n    }),\n    _Google$useAuthReques2 = _slicedToArray(_Google$useAuthReques, 3),\n    request = _Google$useAuthReques2[0],\n    response = _Google$useAuthReques2[1],\n    promptAsync = _Google$useAuthReques2[2];\n  useEffect(function () {\n    handleEffect();\n  }, [response, token]);\n  function handleEffect() {\n    return _handleEffect.apply(this, arguments);\n  }\n  function _handleEffect() {\n    _handleEffect = _asyncToGenerator(function* () {\n      var user = yield getLocalUser();\n      console.log(\"user\", user);\n      if (!user) {\n        if ((response == null ? void 0 : response.type) === \"success\") {\n          setToken(response.authentication.accessToken);\n          getUserInfo(response.authentication.accessToken);\n        }\n      } else {\n        setUserInfo(user);\n        setUsername(user.name);\n        setId(user.id);\n        console.log(\"loaded locally\");\n      }\n    });\n    return _handleEffect.apply(this, arguments);\n  }\n  var getLocalUser = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var data = yield AsyncStorage.getItem(\"@user\");\n      if (!data) return null;\n      return JSON.parse(data);\n    });\n    return function getLocalUser() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var getUserInfo = function () {\n    var _ref2 = _asyncToGenerator(function* (token) {\n      if (!token) return;\n      try {\n        var _response = yield fetch(\"https://www.googleapis.com/userinfo/v2/me\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        var user = yield _response.json();\n        yield AsyncStorage.setItem(\"@user\", JSON.stringify(user));\n        setUserInfo(user);\n      } catch (error) {}\n    });\n    return function getUserInfo(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var _useForm = useForm(),\n    control = _useForm.control,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.formState.errors;\n  console.log(errors);\n  var createUser = function () {\n    var _ref3 = _asyncToGenerator(function* (username, password) {\n      try {\n        var _response2 = yield axios.post(\"http://localhost:3000/users\", {\n          username: username,\n          password: password\n        });\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    });\n    return function createUser(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var onSignInPressed = function onSignInPressed(data) {\n    setUsername(data.username);\n    setPassword(data.password);\n    createUser(data.username, data.password);\n    alert(\"Log In Successful\");\n    console.log(\"username \" + username);\n    console.log(\"password \" + password);\n    navigation.navigate('Home', {\n      username: username\n    });\n  };\n  var onForgotPasswordPressed = function onForgotPasswordPressed() {\n    navigation.navigate('SplashScreen');\n  };\n  var onSignUpAccountPressed = function onSignUpAccountPressed() {\n    navigation.navigate('SignUp');\n  };\n  var sendGoogleUserDataToBackend = function () {\n    var _ref4 = _asyncToGenerator(function* (userInfo) {\n      try {\n        var _response3 = yield axios.get(`http://localhost:3000/auth/google/callback`, {\n          params: {\n            name: userInfo.name,\n            email: userInfo.email,\n            picture: userInfo.picture,\n            id: userInfo.id\n          }\n        });\n        console.log(_response3.data);\n      } catch (error) {\n        console.error('Error sending Google user data to backend:', error);\n      }\n    });\n    return function sendGoogleUserDataToBackend(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var onSignInGoogle = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      if (userInfo) {\n        yield sendGoogleUserDataToBackend(userInfo);\n      }\n      navigation.navigate('Home');\n    });\n    return function onSignInGoogle() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.root,\n    children: [_jsx(Text, {\n      style: [styles.welcomeBack],\n      children: \"Welcome Back !\"\n    }), _jsx(Text, {\n      style: [styles.pleasesign],\n      children: \"Please Sign Into Your Account\"\n    }), _jsxs(ScrollView, {\n      contentContainerStyle: styles.root,\n      children: [_jsx(Image, {\n        source: Logo,\n        style: [styles.logo, {\n          height: height * 0.3\n        }],\n        resizeMode: \"contain\"\n      }), _jsx(Controller, {\n        name: \"username\",\n        control: control,\n        defaultValue: \"\",\n        render: function render(_ref6) {\n          var _ref6$field = _ref6.field,\n            onChange = _ref6$field.onChange,\n            onBlur = _ref6$field.onBlur,\n            value = _ref6$field.value;\n          return _jsx(CustomInput, {\n            name: \"username\",\n            placeholder: \"Enter Username\",\n            control: control,\n            rules: {\n              required: 'Username is required'\n            },\n            onChangeText: onChange,\n            onBlur: onBlur,\n            value: value\n          });\n        }\n      }), _jsx(CustomInput, {\n        name: \"password\",\n        placeholder: \"Enter Password\",\n        control: control,\n        rules: {\n          required: 'Password is required',\n          minLength: {\n            value: 3,\n            message: 'Password should be minimum 3 characters long'\n          }\n        },\n        secureTextEntry: true\n      }), _jsx(CustomButton, {\n        text: \"Forgot Password\",\n        onPress: onForgotPasswordPressed,\n        type: \"TERTIARY\",\n        fgColor: 'red'\n      }), _jsx(CustomButton, {\n        text: \"Sign In\",\n        onPress: handleSubmit(onSignInPressed)\n      }), _jsx(CustomButton, {\n        text: \"Sign In With Google\",\n        type: \"SECONDARY\",\n        onPress: _asyncToGenerator(function* () {\n          var response = yield promptAsync({\n            useProxy: false,\n            showInRecents: true\n          });\n          onSignInGoogle(response);\n        })\n      }), _jsxs(View, {\n        style: styles.root,\n        children: [!userInfo ? _jsx(Button, {\n          title: \"Sign in with Google\",\n          disabled: !request,\n          onPress: _asyncToGenerator(function* () {\n            var response = yield promptAsync({\n              useProxy: false,\n              showInRecents: true\n            });\n            onSignInGoogle(response);\n          })\n        }) : _jsxs(View, {\n          style: styles.card,\n          children: [(userInfo == null ? void 0 : userInfo.picture) && _jsx(Image, {\n            source: {\n              uri: userInfo == null ? void 0 : userInfo.picture\n            },\n            style: styles.image\n          }), _jsxs(Text, {\n            style: styles.text,\n            children: [\"Email: \", userInfo.email]\n          }), _jsxs(Text, {\n            style: styles.text,\n            children: [\"Verified: \", userInfo.verified_email ? \"yes\" : \"no\"]\n          }), _jsxs(Text, {\n            style: styles.text,\n            children: [\"Name: \", userInfo.name]\n          }), _jsxs(Text, {\n            style: styles.text,\n            children: [\"Id: \", userInfo.id]\n          }), _jsxs(Text, {\n            style: styles.text,\n            children: [\"nameTest: \", username]\n          }), _jsxs(Text, {\n            style: styles.text,\n            children: [\"idTest: \", id]\n          }), _jsxs(Text, {\n            children: [\"ID: \", userInfo.id]\n          }), _jsxs(Text, {\n            children: [\"Email: \", userInfo.email]\n          })]\n        }), _jsx(Button, {\n          title: \"remove local store\",\n          onPress: _asyncToGenerator(function* () {\n            return yield AsyncStorage.removeItem(\"@user\");\n          })\n        })]\n      }), _jsx(CustomButton, {\n        text: _jsxs(Text, {\n          children: [\"Don't have an account ? \", _jsx(Text, {\n            style: {\n              color: 'red'\n            },\n            children: \"Sign Up\"\n          })]\n        }),\n        onPress: onSignUpAccountPressed,\n        type: \"TERTIARY\"\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  root: {\n    padding: 25,\n    alignItems: 'center'\n  },\n  logo: {\n    borderRadius: 100,\n    width: 216\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  text: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  card: {\n    borderWidth: 1,\n    borderRadius: 15,\n    padding: 15\n  },\n  image: {\n    width: 100,\n    height: 100,\n    borderRadius: 50\n  },\n  welcomeBack: {\n    fontSize: FontSize.size_5xl,\n    fontFamily: FontFamily.openSansBold,\n    fontWeight: \"700\",\n    lineHeight: 24,\n    top: 20,\n    textAlign: \"center\",\n    position: \"absolute\",\n    fontSize: 32,\n    alignItems: 'center'\n  },\n  pleasesign: {\n    top: 40,\n    left: 0,\n    color: Color.colorGray_100,\n    lineHeight: 16,\n    fontFamily: FontFamily.robotoLight,\n    fontWeight: \"300\",\n    fontSize: FontSize.size_base\n  }\n});\nexport default SingIn;","map":{"version":3,"names":["React","useState","useEffect","Text","View","Image","StyleSheet","useWindowDimensions","TextInput","Button","Logo","CustomInput","CustomButton","SocialSignInButtons","useNavigation","useRoute","useForm","Controller","axios","WebBrowser","Google","AsyncStorage","ScrollView","Color","FontFamily","Border","FontSize","jsx","_jsx","jsxs","_jsxs","SingIn","data","_useWindowDimensions","height","maybeCompleteAuthSession","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","navigation","_useState5","_useState6","id","setId","_useState7","_useState8","token","setToken","_useState9","_useState10","userInfo","setUserInfo","calendar","google","_Google$useAuthReques","useAuthRequest","webClientId","iosClientId","androidClientId","scopes","_Google$useAuthReques2","request","response","promptAsync","handleEffect","_handleEffect","apply","arguments","_asyncToGenerator","user","getLocalUser","console","log","type","authentication","accessToken","getUserInfo","name","_ref","getItem","JSON","parse","_ref2","fetch","headers","Authorization","json","setItem","stringify","error","_x","_useForm","control","handleSubmit","errors","formState","createUser","_ref3","post","_x2","_x3","onSignInPressed","alert","navigate","onForgotPasswordPressed","onSignUpAccountPressed","sendGoogleUserDataToBackend","_ref4","get","params","email","picture","_x4","onSignInGoogle","_ref5","style","styles","root","children","welcomeBack","pleasesign","contentContainerStyle","source","logo","resizeMode","defaultValue","render","_ref6","_ref6$field","field","onChange","onBlur","value","placeholder","rules","required","onChangeText","minLength","message","secureTextEntry","text","onPress","fgColor","useProxy","showInRecents","title","disabled","card","uri","image","verified_email","removeItem","color","create","padding","alignItems","borderRadius","width","container","flex","backgroundColor","justifyContent","fontSize","fontWeight","borderWidth","size_5xl","fontFamily","openSansBold","lineHeight","top","textAlign","position","left","colorGray_100","robotoLight","size_base"],"sources":["/home/alexx/MatchUp-Mobile/src/screens/SingIn/SingIn.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Text, View, Image, StyleSheet, useWindowDimensions, TextInput, Button} from 'react-native';\nimport Logo from '../../../assets/images/NewLogo.png';\nimport CustomInput from '../../components/customInput';\nimport CustomButton from '../../components/CustomButton';\nimport SocialSignInButtons from '../../components/SocialSignInButtons';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport {useForm, Controller} from 'react-hook-form';\nimport axios from \"axios\";\nimport * as WebBrowser from \"expo-web-browser\";\nimport * as Google from \"expo-auth-session/providers/google\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { ScrollView } from 'react-native';\nimport { Color, FontFamily, Border, FontSize } from \"../../../GlobalStyles\";\n\n\nconst SingIn = (data) => {\n    const {height} = useWindowDimensions();\n    WebBrowser.maybeCompleteAuthSession();\n    \n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const navigation = useNavigation();\n    const [id, setId] = useState('');\n\n\n    const [token, setToken] = useState(\"\");\n    const [userInfo, setUserInfo] = useState(null);\n    const calendar = google.calendar('v3');\n\n    const [request, response, promptAsync] = Google.useAuthRequest({\n     //APIprincipale webClientId: \"871816637044-ejvmsf74rnf29sludjqr7t60tne94sam.apps.googleusercontent.com\",\n      webClientId: \"871816637044-ejvmsf74rnf29sludjqr7t60tne94sam.apps.googleusercontent.com\",\n    //expoClientId: \"871816637044-74uvfa2epj1vpr0qc3883l4s8mv0q5g7.apps.googleusercontent.com\",\n      iosClientId: \"871816637044-esekd2fr8ci43gp9l7aou6nlhdi6nnln.apps.googleusercontent.com\",\n      androidClientId: \"871816637044-taf445l6c45fgje4odbc1hhvfisnmm5h.apps.googleusercontent.com\",\n      scopes: [\"profile\", \"email\"]\n      },\n    );\n\n    useEffect(() => {\n      handleEffect();\n    }, [response, token]);\n    async function handleEffect() {\n      const user = await getLocalUser();\n      console.log(\"user\", user);\n      if (!user) {\n        if (response?.type === \"success\") {\n          setToken(response.authentication.accessToken);\n          getUserInfo(response.authentication.accessToken);\n        }\n      } else {\n        setUserInfo(user);\n        setUsername(user.name);\n        setId(user.id);\n\n        console.log(\"loaded locally\");\n      }\n    }\n\n    const getLocalUser = async () => {\n      const data = await AsyncStorage.getItem(\"@user\");\n      if (!data) return null;\n      return JSON.parse(data);\n    };\n  \n    const getUserInfo = async (token) => {\n      if (!token) return;\n      try {\n        const response = await fetch(\n          \"https://www.googleapis.com/userinfo/v2/me\",\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n        const user = await response.json();\n        await AsyncStorage.setItem(\"@user\", JSON.stringify(user));\n        setUserInfo(user);\n        //setUsername(userInfo.name);\n      } catch (error) {\n        // Add your own error handler here\n      }\n    };\n\n    const {\n      control, \n      handleSubmit, formState:{errors},\n    } = useForm();\n\n    console.log(errors);\n\n    \n\n\n    const createUser = async (username, password) => {\n       try {\n        const response = await axios.post(\"http://localhost:3000/users\", {\n          //const response = await axios.post(\"http://172.20.10.2:3001/users\", {\n          username,\n          password,\n         });\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        // handle error\n      }\n\n      \n    };\n\n\n    const onSignInPressed = (data) => {\n\n    //const onSignInPressed = async (data) => {\n      setUsername(data.username);\n      setPassword(data.password);\n      createUser(data.username, data.password);\n      \n        alert(\"Log In Successful\");\n        console.log(\"username \"+ username);\n        console.log(\"password \" + password);\n        navigation.navigate('Home', {username});\n      }\n\n    const onForgotPasswordPressed = () => {\n      //navigation.navigate('ForgotPassword');\n      navigation.navigate('SplashScreen');\n    }\n\n    const onSignUpAccountPressed = () => {\n      navigation.navigate('SignUp');\n    }\n\n    const sendGoogleUserDataToBackend = async (userInfo) => {\n      try {\n        const response = await axios.get(`http://localhost:3000/auth/google/callback`, {\n          params: {\n            name: userInfo.name,\n            email: userInfo.email,\n            picture: userInfo.picture,\n            id: userInfo.id,\n          },\n        });\n        console.log(response.data);\n      } catch (error) {\n        console.error('Error sending Google user data to backend:', error);\n      }\n    };\n    \n\n\n    const onSignInGoogle = async () => {\n      if (userInfo) {\n        await sendGoogleUserDataToBackend(userInfo);\n      }\n      navigation.navigate('Home');\n    }\n\n    return (\n      <View style={styles.root}>\n          <Text style={[styles.welcomeBack]}>Welcome Back !</Text>\n          <Text style={[styles.pleasesign]}>Please Sign Into Your Account</Text>\n\n          <ScrollView contentContainerStyle={styles.root}>\n\n        <Image\n          source={Logo}\n          style={[styles.logo, { height: height * 0.3 }]} resizeMode=\"contain\" \n          />\n        <Controller\n          name=\"username\"\n          control={control}\n          defaultValue=\"\"\n          render={({ field: { onChange, onBlur, value } }) => (\n          <CustomInput\n          name=\"username\"\n          placeholder= \"Enter Username\" \n          control={control} \n          rules={{required: 'Username is required'}}\n          onChangeText={onChange}\n          onBlur={onBlur}\n          value={value}\n\n          />\n          )}\n        />\n        <CustomInput \n        name=\"password\"\n        placeholder= \"Enter Password\" \n        control={control} \n    \n        rules={{required: 'Password is required', \n        minLength:{value: 3, \n          message:'Password should be minimum 3 characters long',\n        },\n      }}\n        secureTextEntry\n        />\n        <CustomButton \n        text= \"Forgot Password\" \n        onPress={onForgotPasswordPressed}\n        type= \"TERTIARY\"\n        fgColor={'red'}\n        />\n\n        <CustomButton text= \"Sign In\" \n        onPress={handleSubmit(onSignInPressed)}\n        />\n        \n        <CustomButton\n        text=\"Sign In With Google\"  \n        type=\"SECONDARY\" \n        onPress={async () => {\n          const response = await promptAsync({ useProxy: false, showInRecents: true });\n          onSignInGoogle(response);\n        }}        />\n\n        {/* <SocialSignInButtons/> */}\n        <View style={styles.root}>\n      {!userInfo ? (\n        <Button\n      title=\"Sign in with Google\"\n      disabled={!request}\n      onPress={async () => {\n        const response = await promptAsync({ useProxy: false, showInRecents: true });\n        onSignInGoogle(response);\n      }}\n    />\n      ) : (\n        <View style={styles.card}>\n          {userInfo?.picture && (\n            <Image source={{ uri: userInfo?.picture }} style={styles.image} />\n          )}\n          <Text style={styles.text}>Email: {userInfo.email}</Text>\n          <Text style={styles.text}>\n            Verified: {userInfo.verified_email ? \"yes\" : \"no\"}\n          </Text>\n          <Text style={styles.text}>Name: {userInfo.name}</Text>\n          <Text style={styles.text}>Id: {userInfo.id}</Text>\n          \n          <Text style={styles.text}>nameTest: {username}</Text>\n          <Text style={styles.text}>idTest: {id}</Text>\n\n          <Text>ID: {userInfo.id}</Text>\n        <Text>Email: {userInfo.email}</Text>\n\n\n\n          {/* <Text style={styles.text}>{JSON.stringify(userInfo, null, 2)}</Text> */}\n        </View>\n      )}\n      <Button\n        title=\"remove local store\"\n        onPress={async () => await AsyncStorage.removeItem(\"@user\")}\n      />\n\n        </View>\n\n        <CustomButton\n  text={\n    <Text>\n      Don't have an account ? <Text style={{ color: 'red' }}>Sign Up</Text>\n    </Text>\n  }\n  onPress={onSignUpAccountPressed}\n  type=\"TERTIARY\"\n/>  \n          </ScrollView>\n          \n      </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    root: {\n        padding: 25,\n        alignItems: 'center',\n    },\n    logo: {\n        borderRadius: 100,\n        width: 216,\n      },\n      container: {\n        flex: 1,\n        backgroundColor: \"#fff\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      },\n      text: {\n        fontSize: 20,\n        fontWeight: \"bold\",\n      },\n      card: {\n        borderWidth: 1,\n        borderRadius: 15,\n        padding: 15,\n      },\n      image: {\n        width: 100,\n        height: 100,\n        borderRadius: 50,\n      },\n      welcomeBack: {\n        fontSize: FontSize.size_5xl,\n        fontFamily: FontFamily.openSansBold,\n        fontWeight: \"700\",\n        lineHeight: 24,\n        top: 20,\n        textAlign: \"center\",\n        position: \"absolute\",\n        fontSize: 32,\n        alignItems: 'center',\n      },\n      pleasesign: {\n        top: 40,\n        left: 0,\n        color: Color.colorGray_100,\n        lineHeight: 16,\n        fontFamily: FontFamily.robotoLight,\n        fontWeight: \"300\",\n        fontSize: FontSize.size_base,\n      },\n});\n\nexport default SingIn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}